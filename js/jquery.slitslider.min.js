!function(a,b,c){"use strict";var e,f,d=a.event;e=d.special.debouncedresize={setup:function(){a(this).on("resize",e.handler)},teardown:function(){a(this).off("resize",e.handler)},handler:function(a,b){var c=this,g=arguments,h=function(){a.type="debouncedresize",d.dispatch.apply(c,g)};f&&clearTimeout(f),b?h():f=setTimeout(h,e.threshold)},threshold:20};var g=a(b),h=a(document),i=b.Modernizr;a.Slitslider=function(b,c){this.$elWrapper=a(c),this._init(b)},a.Slitslider.defaults={speed:800,optOpacity:!1,translateFactor:230,maxAngle:25,maxScale:2,autoplay:!1,keyboard:!0,interval:4e3,onBeforeChange:function(){return!1},onAfterChange:function(){return!1}},a.Slitslider.prototype={_init:function(b){this.options=a.extend(!0,{},a.Slitslider.defaults,b),this.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},this.transEndEventName=this.transEndEventNames[i.prefixed("transition")],this.support=i.csstransitions&&i.csstransforms3d,this.$el=this.$elWrapper.children(".sl-slider"),this.$slides=this.$el.children(".sl-slide").hide(),this.slidesCount=this.$slides.length,this.current=0,this.isAnimating=!1,this._getSize(),this._layout(),this._loadEvents(),this.options.autoplay&&this._startSlideshow()},_getSize:function(){this.size={width:this.$elWrapper.outerWidth(!0),height:this.$elWrapper.outerHeight(!0)}},_layout:function(){this.$slideWrapper=a('<div class="sl-slides-wrapper" />'),this.$slides.wrapAll(this.$slideWrapper).each(function(){var c=a(this),d=c.data("orientation");c.addClass("sl-slide-"+d).children().wrapAll('<div class="sl-content-wrapper" />').wrapAll('<div class="sl-content" />')}),this._setSize(),this.$slides.eq(this.current).show()},_navigate:function(b,d){if(this.isAnimating||this.slidesCount<2)return!1;this.isAnimating=!0;var e=this,f=this.$slides.eq(this.current);d!==c?this.current=d:"next"===b?this.current=this.current<this.slidesCount-1?++this.current:0:"prev"===b&&(this.current=this.current>0?--this.current:this.slidesCount-1),this.options.onBeforeChange(f,this.current);var g=this.$slides.eq(this.current),h="next"===b?f:g,i=h.data(),j={};j.orientation=i.orientation||"horizontal",j.slice1angle=i.slice1Rotation||0,j.slice1scale=i.slice1Scale||1,j.slice2angle=i.slice2Rotation||0,j.slice2scale=i.slice2Scale||1,this._validateValues(j);var k="horizontal"===j.orientation?{marginTop:-this.size.height/2}:{marginLeft:-this.size.width/2},l={transform:"translate(0%,0%) rotate(0deg) scale(1)",opacity:1},m="horizontal"===j.orientation?{transform:"translateY(-"+this.options.translateFactor+"%) rotate("+j.slice1angle+"deg) scale("+j.slice1scale+")"}:{transform:"translateX(-"+this.options.translateFactor+"%) rotate("+j.slice1angle+"deg) scale("+j.slice1scale+")"},n="horizontal"===j.orientation?{transform:"translateY("+this.options.translateFactor+"%) rotate("+j.slice2angle+"deg) scale("+j.slice2scale+")"}:{transform:"translateX("+this.options.translateFactor+"%) rotate("+j.slice2angle+"deg) scale("+j.slice2scale+")"};this.options.optOpacity&&(m.opacity=0,n.opacity=0),f.removeClass("sl-trans-elems");var o={transition:"all "+this.options.speed+"ms ease-in-out"};h.css("z-index",this.slidesCount).find("div.sl-content-wrapper").wrap(a('<div class="sl-content-slice" />').css(o)).parent().cond("prev"===b,function(){var a=this;this.css(m),setTimeout(function(){a.css(l)},50)},function(){var a=this;setTimeout(function(){a.css(m)},50)}).clone().appendTo(h).cond("prev"===b,function(){var a=this;this.css(n),setTimeout(function(){f.addClass("sl-trans-back-elems"),e.support?a.css(l).on(e.transEndEventName,function(){e._onEndNavigate(a,f,b)}):e._onEndNavigate(a,f,b)},50)},function(){var a=this;setTimeout(function(){g.addClass("sl-trans-elems"),e.support?a.css(n).on(e.transEndEventName,function(){e._onEndNavigate(a,f,b)}):e._onEndNavigate(a,f,b)},50)}).find("div.sl-content-wrapper").css(k),g.show()},_validateValues:function(a){(a.slice1angle>this.options.maxAngle||a.slice1angle<-this.options.maxAngle)&&(a.slice1angle=this.options.maxAngle),(a.slice2angle>this.options.maxAngle||a.slice2angle<-this.options.maxAngle)&&(a.slice2angle=this.options.maxAngle),(a.slice1scale>this.options.maxScale||a.slice1scale<=0)&&(a.slice1scale=this.options.maxScale),(a.slice2scale>this.options.maxScale||a.slice2scale<=0)&&(a.slice2scale=this.options.maxScale),"vertical"!==a.orientation&&"horizontal"!==a.orientation&&(a.orientation="horizontal")},_onEndNavigate:function(a,b){var d=a.parent(),e="sl-trans-elems sl-trans-back-elems";a.remove(),d.css("z-index",1).find("div.sl-content-wrapper").unwrap(),b.hide().removeClass(e),d.removeClass(e),this.isAnimating=!1,this.options.onAfterChange(d,this.current)},_setSize:function(){var a={width:this.size.width,height:this.size.height};this.$el.css(a).find("div.sl-content-wrapper").css(a)},_loadEvents:function(){var a=this;g.on("debouncedresize.slitslider",function(){a._getSize(),a._setSize()}),this.options.keyboard&&h.on("keydown.slitslider",function(b){var c=b.keyCode||b.which,d={left:37,up:38,right:39,down:40};switch(c){case d.left:a._stopSlideshow(),a._navigate("prev");break;case d.right:a._stopSlideshow(),a._navigate("next")}})},_startSlideshow:function(){var a=this;this.slideshow=setTimeout(function(){a._navigate("next"),a.options.autoplay&&a._startSlideshow()},this.options.interval)},_stopSlideshow:function(){this.options.autoplay&&(clearTimeout(this.slideshow),this.isPlaying=!1,this.options.autoplay=!1)},_destroy:function(b){this.$el.off(".slitslider").removeData("slitslider"),g.off(".slitslider"),h.off(".slitslider"),this.$slides.each(function(){var c=a(this),d=c.find("div.sl-content").children();d.appendTo(c),c.children("div.sl-content-wrapper").remove()}),this.$slides.unwrap(this.$slideWrapper).hide(),this.$slides.eq(0).show(),b&&b.call()},add:function(b,c){this.$slides=this.$slides.add(b);var d=this;b.each(function(){var c=a(this),e=c.data("orientation");c.hide().addClass("sl-slide-"+e).children().wrapAll('<div class="sl-content-wrapper" />').wrapAll('<div class="sl-content" />').end().appendTo(d.$el.find("div.sl-slides-wrapper"))}),this._setSize(),this.slidesCount=this.$slides.length,c&&c.call($items)},next:function(){this._stopSlideshow(),this._navigate("next")},previous:function(){this._stopSlideshow(),this._navigate("prev")},jump:function(a){return a-=1,a===this.current||a>=this.slidesCount||0>a?!1:(this._stopSlideshow(),this._navigate(a>this.current?"next":"prev",a),void 0)},play:function(){this.isPlaying||(this.isPlaying=!0,this._navigate("next"),this.options.autoplay=!0,this._startSlideshow())},pause:function(){this.isPlaying&&this._stopSlideshow()},isActive:function(){return this.isAnimating},destroy:function(a){this._destroy(a)}};var j=function(a){b.console&&b.console.error(a)};a.fn.slitslider=function(b){var c=a.data(this,"slitslider");if("string"==typeof b){var d=Array.prototype.slice.call(arguments,1);this.each(function(){return c?a.isFunction(c[b])&&"_"!==b.charAt(0)?(c[b].apply(c,d),void 0):(j("no such method '"+b+"' for slitslider self"),void 0):(j("cannot call methods on slitslider prior to initialization; attempted to call method '"+b+"'"),void 0)})}else this.each(function(){c?c._init():c=a.data(this,"slitslider",new a.Slitslider(b,this))});return c}}(jQuery,window);